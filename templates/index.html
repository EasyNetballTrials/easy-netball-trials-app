<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Netball Trials – Court Boards Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#f7f7fb; --card:#ffffff; --text:#222; --muted:#666; --brand:#2b6cb0; --brand2:#225ea8;}
    html, body {margin:0; padding:0; background:var(--bg); color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;}
    .wrap {max-width:900px; margin:48px auto; padding:0 16px;}
    .card {background:var(--card); border-radius:16px; box-shadow:0 8px 24px rgba(0,0,0,.08); padding:28px;}
    h1 {margin:0 0 8px; font-size:28px;}
    p.lead {margin:0 0 20px; color:var(--muted);}
    .grid {display:grid; grid-template-columns: 1fr 1fr; gap:16px;}
    .full {grid-column: 1 / -1;}
    label {display:block; font-weight:600; margin:12px 0 6px;}
    input[type="number"], select, input[type="file"] {
      width:100%; padding:10px 12px; border:1px solid #ddd; border-radius:10px; font-size:14px; background:#fff;
    }
    input[type="file"] { padding:12px; }
    .help {font-size:12px; color:var(--muted); margin-top:4px;}
    .btn {
      display:inline-block; background:var(--brand); color:#fff; border:none; border-radius:12px;
      padding:12px 18px; font-size:16px; font-weight:600; cursor:pointer;
    }
    .btn:hover { background:var(--brand2); }
    .flash {background:#fff3cd; border:1px solid #ffe69c; color:#8a6d3b; padding:10px 12px; border-radius:10px; margin-bottom:12px;}
    .footer {margin-top:18px; font-size:12px; color:var(--muted); text-align:center;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Netball Trials – Court Boards Generator</h1>
      <p class="lead">Upload your players CSV, choose your options, and download a printable Excel workbook with Court Boards, Schedule, Game Tally, and Players.</p>

      {% with messages = get_flashed_messages() %}
        {% if messages %}
          {% for m in messages %}
            <div class="flash">{{ m }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      <form action="{{ url_for('generate') }}" method="post" enctype="multipart/form-data">
        <div class="full">
          <label for="file">Players CSV</label>
          <input id="file" name="file" type="file" accept=".csv" required />
          <div class="help">
            Required headers (any case): <strong>First Name, Last Name, PreferredPos1, PreferredPos2, PreferredPos3</strong>.<br/>
            Optional: <strong>Active</strong> (YES/NO, default YES), <strong>Seed</strong> (default 3).
          </div>
        </div>

        <div class="grid" style="margin-top:16px;">
          <div>
            <label for="rounds">Rounds (1–20)</label>
            <input id="rounds" name="rounds" type="number" min="1" max="20" value="10" />
          </div>
          <div>
            <label for="courts">Courts (1–2)</label>
            <select id="courts" name="courts">
              <option value="1">1</option>
              <option value="2" selected>2</option>
            </select>
          </div>

          <div>
            <label for="number_players">Number players by surname?</label>
            <select id="number_players" name="number_players">
              <option value="YES">YES</option>
              <option value="NO" selected>NO</option>
            </select>
            <div class="help">If YES, a "Number" column is added and shown on Court Boards (e.g., “Rachel Davies 16”).</div>
          </div>

          <div>
            <label for="min_p1">Minimum games in Preferred Pos1</label>
            <input id="min_p1" name="min_p1" type="number" min="1" max="5" value="2" />
            <div class="help">The generator tries in-round swaps to reach this target. If not possible, a note is added per player.</div>
          </div>
        </div>

        <div style="margin-top:22px;">
          <button class="btn" type="submit">Generate Excel Workbook</button>
        </div>
      </form>

      <div class="help" style="margin-top:16px;">
        Positions supported: GS, GA, WA, C, WD, GD, GK. “Active” defaults to YES if left blank.
      </div>
    </div>

    <div class="footer">
      © {{ 2025 }} Netball Trials Generator
    </div>
  </div>
</body>
</html>
